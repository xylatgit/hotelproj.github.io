<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>Project Report</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/journal.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<script src="site_libs/navigation-1.1/codefolding.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<script src="site_libs/htmlwidgets-1.5.1/htmlwidgets.js"></script>
<script src="site_libs/plotly-binding-4.9.2.9000/plotly.js"></script>
<script src="site_libs/typedarray-0.1/typedarray.min.js"></script>
<link href="site_libs/crosstalk-1.1.0.1/css/crosstalk.css" rel="stylesheet" />
<script src="site_libs/crosstalk-1.1.0.1/js/crosstalk.min.js"></script>
<link href="site_libs/plotly-htmlwidgets-css-1.54.1/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="site_libs/plotly-main-1.54.1/plotly-latest.min.js"></script>
<link href="site_libs/font-awesome-5.1.0/css/all.css" rel="stylesheet" />
<link href="site_libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet" />

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>

<link rel="stylesheet" href="bootstrap.css" type="text/css" />



<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 61px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 66px;
  margin-top: -66px;
}
.section h2 {
  padding-top: 66px;
  margin-top: -66px;
}
.section h3 {
  padding-top: 66px;
  margin-top: -66px;
}
.section h4 {
  padding-top: 66px;
  margin-top: -66px;
}
.section h5 {
  padding-top: 66px;
  margin-top: -66px;
}
.section h6 {
  padding-top: 66px;
  margin-top: -66px;
}
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #ffffff;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  background: white;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->
<style type="text/css">
.code-folding-btn { margin-bottom: 4px; }
</style>



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row-fluid">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Need a Vacation? Book a Hotel!</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="home.html">Home</a>
</li>
<li>
  <a href="about.html">About</a>
</li>
<li>
  <a href="eda.html">EDA</a>
</li>
<li>
  <a href="model.html">Model Building</a>
</li>
<li>
  <a href="report.html">Final Report</a>
</li>
<li>
  <a href="mailto:&lt;xl3048@cumc.columbia.edu&gt;">
    <span class="fa fa-envelope fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="http://github.com/xylatgit/">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">

<div class="btn-group pull-right">
<button type="button" class="btn btn-default btn-xs dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span>Code</span> <span class="caret"></span></button>
<ul class="dropdown-menu" style="min-width: 50px;">
<li><a id="rmd-show-all-code" href="#">Show All Code</a></li>
<li><a id="rmd-hide-all-code" href="#">Hide All Code</a></li>
</ul>
</div>



<h1 class="title toc-ignore">Project Report</h1>

</div>


<div id="motivation" class="section level2">
<h2>Motivation</h2>
</div>
<div id="related-work" class="section level2">
<h2>Related work</h2>
<ul>
<li>Antonio N., Almeida A., Nunes L. (2019). Hotel Booking Demand Datasets. Data in Brief. Vol 22. 41-49.</li>
</ul>
</div>
<div id="initial-questions" class="section level2">
<h2>Initial Questions</h2>
<ul>
<li>Where do the guests come from?<br />
</li>
<li>How does price vary over the year?<br />
</li>
<li>What are the potential factors which could influence the cancellation of both hotels?</li>
</ul>
</div>
<div id="data" class="section level2">
<h2>Data</h2>
<blockquote>
<p><strong>Primary Data Source</strong></p>
</blockquote>
<p><a href="https://www.sciencedirect.com/science/article/pii/S2352340918315191">Hotel Booking Demand Dataset</a></p>
<blockquote>
<p><strong>Variable of Interest</strong></p>
</blockquote>
<p>The original dataset contains information from 2015 to 2017. To avoid the caveat of time series and for a speedier performance of our model, we only included the year 2016 for our analysis. In order to identify any seasonality trend over the year, we created a new variable containing the arrival season of the guests. We then mutated the character variables as factors and additionally some numeric variables that would be better explained as factors. To avoid collinearlity, we kept arrival season and exluced arrival month. Finally, to satisfy our aim of predicting booking cancelation, we selected the following variables that we desired to include in our model:</p>
<ol style="list-style-type: decimal">
<li>Outcome:<br />
<em>IsCanceled</em>: Values indicating if the booking was canceled (1) or not (0).<br />
<br />
</li>
<li>Potential Predictors:<br />
</li>
</ol>
<ul>
<li><em>Categorical Variables</em>:<br />

<ul>
<li><em>ArrivalDateMonth</em>: Month of arrival date with 12 categories: “January” to “December”.</li>
<li><em>CustomerType</em>: Types of booking, assuming one of the four categories:<br />
-Contract: when the booking has an allotment or other type of contract associated with it (long-term stay);<br />
-Group: when the booking is associated with a group;<br />
-Transient: when the booking is not part of a group or contract and is not associated with other transient bookings (these are guests who are predominantly on-the-move and seek short (and often urgent) hotel-stays)<br />
-Transient-party: when the booking is transient but is associated with at least another transient booking.<br />
</li>
<li><em>DepositType</em>: Indication on if the customer made a deposit to guarantee the booking. The variable can assume 3 categories: -No Deposit;<br />
-Non Refund: Deposit value equals or exceeds the total stay cost;<br />
-Refundable: Deposit value under the total stay cost.<br />
</li>
<li><em>DistributionChannel</em>: Booking distribution channel (“TA” means travel agent; “TO” means tour operator).<br />
</li>
<li>Hotel: City Hotel or Resort Hotel.<br />
</li>
<li><em>MarketSegment</em>: Market segment designation (“TA” means travel agent; “TO” means tour operator).<br />
</li>
<li><em>Meal</em>: Type of meal booked.<br />
-Undefined/SC: no meal package;<br />
-BB: Bed &amp; breakfast;<br />
-HB: Half board (breakfast and one other meal)<br />
-FB: Full board (breakfast, lunch, and dinner)<br />
</li>
<li><em>ReservedRoomType</em>: Code of room type reserved. Code is presented instead of designation for anonymity reasons.<br />
</li>
</ul></li>
<li><em>Numeric Variables</em>:<br />

<ul>
<li><em>ADR</em>: Average daily rate.<br />
</li>
<li><em>BookingChanges</em>: Number of changes/amendments made to the booking from the moment the booking was entered on the PMS until the moment of check-in or cancellation.<br />
</li>
<li><em>PreviousCancellations</em>: Number of previous bookings that were canceled by the customer prior to the current booking.<br />
</li>
<li><em>LeadTime</em>: Number of days that elapsed between the entering date of the booking into the PMS and the arrival date.<br />
</li>
<li><em>TotalOfSpecialRequests</em>: Number of special requests made by the customer (e.g. twin bed or high floor)<br />
</li>
</ul></li>
</ul>
<blockquote>
<p><strong>Data Cleaning and Preprocessing</strong></p>
</blockquote>
<ul>
<li>Convert missing value and NAs (both capital and lower-case) to na for R recognition.</li>
<li>Convert numeric to factor variables if needed.</li>
<li>Create <em>ArrivalSeason</em> variable based on <em>ArrivalDateMonth</em> to investigate the effect of seasonality on hotel booking demands.</li>
<li>Create <em>FalseRoomAssignment</em> variable by comparing the difference between <em>ReservedRoomType</em> and <em>AssignmedRoomType</em>.</li>
</ul>
</div>
<div id="exploratory-analysis" class="section level2">
<h2>Exploratory Analysis</h2>
<p>We first used a choropleth map and a donut chart to visualize the proportions of guests’ nationality. We observed that most guests come from Europe and top three nationality are Portuguese, with British and French guest come second and third.</p>
<p>We then tried to explore how the ADR(average daily rate) change over time. Therefore, we used group by summary to produce the mean ADR by month, and plotted these values using line chart. To illustrate how the ADR varies, we also added confidence band to the average line. We observed that the ADR is pretty stable across the years for city hotel, which is reasonable according to the booking demand pattern. For resort hotel, we see a sharp increase in ADR from May to November with the price level peaking during summer. This finding is also intuitive since we expect the demand for resort hotel increases in summer.</p>
</div>
<div id="statistical-analysis" class="section level2">
<h2>Statistical Analysis</h2>
<div id="logistic-regression" class="section level3">
<h3>Logistic Regression</h3>
<p>We first tried to predict the output using Logistic regression. The first model we used included all the possible predictors we selected. To perform variable selection, we used stepwise regression. The result shows that the all of our existing variables have statistical significance. We thus fitted this model to our dataset, and generated the following output for the variables with significant odds ratios:</p>
<table>
<caption>Logistic Regression Output</caption>
<thead>
<tr class="header">
<th align="left">term</th>
<th align="right">log_OR</th>
<th align="right">OR</th>
<th align="right">p.value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">deposit_typeNon Refund</td>
<td align="right">5.156</td>
<td align="right">173.389</td>
<td align="right">0.000</td>
</tr>
<tr class="even">
<td align="left">market_segmentOnline TA</td>
<td align="right">1.479</td>
<td align="right">4.388</td>
<td align="right">0.007</td>
</tr>
<tr class="odd">
<td align="left">market_segmentDirect</td>
<td align="right">0.981</td>
<td align="right">2.668</td>
<td align="right">0.088</td>
</tr>
<tr class="even">
<td align="left">mealFB</td>
<td align="right">0.745</td>
<td align="right">2.106</td>
<td align="right">0.000</td>
</tr>
<tr class="odd">
<td align="left">market_segmentComplementary</td>
<td align="right">0.713</td>
<td align="right">2.041</td>
<td align="right">0.357</td>
</tr>
<tr class="even">
<td align="left">customer_typeTransient</td>
<td align="right">0.662</td>
<td align="right">1.938</td>
<td align="right">0.000</td>
</tr>
<tr class="odd">
<td align="left">market_segmentGroups</td>
<td align="right">0.656</td>
<td align="right">1.928</td>
<td align="right">0.230</td>
</tr>
<tr class="even">
<td align="left">market_segmentCorporate</td>
<td align="right">-1.645</td>
<td align="right">0.193</td>
<td align="right">0.004</td>
</tr>
<tr class="odd">
<td align="left">distribution_channelDirect</td>
<td align="right">-2.204</td>
<td align="right">0.110</td>
<td align="right">0.000</td>
</tr>
<tr class="even">
<td align="left">distribution_channelGDS</td>
<td align="right">-2.874</td>
<td align="right">0.056</td>
<td align="right">0.000</td>
</tr>
</tbody>
</table>
<p><strong>Comment</strong> As we can see from the output, deposit type: non refund has the largest odds ratio(173.389), indicating that the guests with non refundable test are significantly more likely to cancel the bookings compared to no deposit guests. This finding is rather counter-intuitive and also raises the question about the validity of the dataset.<br />
<br></p>
<div id="variable-importance" class="section level4">
<h4>Variable Importance</h4>
<p>We furthur generated the most important variables of our model:</p>
<table>
<caption>Variable Importance</caption>
<thead>
<tr class="header">
<th align="left"></th>
<th align="right">Overall</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">total_of_special_requests</td>
<td align="right">48.779</td>
</tr>
<tr class="even">
<td align="left">deposit_typeNon Refund</td>
<td align="right">32.904</td>
</tr>
<tr class="odd">
<td align="left">lead_time</td>
<td align="right">30.214</td>
</tr>
<tr class="even">
<td align="left">adr</td>
<td align="right">17.725</td>
</tr>
<tr class="odd">
<td align="left">arrival_seasonSummer</td>
<td align="right">15.405</td>
</tr>
<tr class="even">
<td align="left">booking_changes</td>
<td align="right">12.763</td>
</tr>
<tr class="odd">
<td align="left">arrival_seasonSpring</td>
<td align="right">12.659</td>
</tr>
<tr class="even">
<td align="left">distribution_channelTA/TO</td>
<td align="right">10.285</td>
</tr>
</tbody>
</table>
<div id="we-will-look-more-into-the-three-most-important-features" class="section level5">
<h5>We will look more into the three most important features:</h5>
<ul>
<li>Total special requests</li>
<li>deposit type</li>
<li>adr<br />
<br></li>
</ul>
</div>
<div id="the-special-request-effect" class="section level5">
<h5>The Special Request Effect</h5>
<div id="htmlwidget-5f751ad5b4939cf09d7d" style="width:672px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-5f751ad5b4939cf09d7d">{"x":{"visdat":{"370c28853315":["function () ","plotlyVisDat"]},"cur_data":"370c28853315","attrs":{"370c28853315":{"x":{},"y":{},"color":{},"colors":"viridis","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"bar"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"title":"Canceled Proportion with Total Number of Special Request","xaxis":{"domain":[0,1],"automargin":true,"title":"Number of Special Requests"},"yaxis":{"domain":[0,1],"automargin":true,"title":"Proportion of Cancellation","range":[0,1]},"barmode":"group","hovermode":"closest","showlegend":true},"source":"A","config":{"showSendToCloud":false},"data":[{"x":[0,1,2,3,4,5],"y":[0.563481821013751,0.178024157202091,0.168472652218782,0.174629324546952,0.132530120481928,0],"type":"bar","name":"City Hotel","marker":{"color":"rgba(68,1,84,1)","line":{"color":"rgba(68,1,84,1)"}},"textfont":{"color":"rgba(68,1,84,1)"},"error_y":{"color":"rgba(68,1,84,1)"},"error_x":{"color":"rgba(68,1,84,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[0,1,2,3,4,5],"y":[0.314001434205809,0.18415956622773,0.215800636267232,0.201892744479495,0.102564102564103,0.2],"type":"bar","name":"Resort Hotel","marker":{"color":"rgba(253,231,37,1)","line":{"color":"rgba(253,231,37,1)"}},"textfont":{"color":"rgba(253,231,37,1)"},"error_y":{"color":"rgba(253,231,37,1)"},"error_x":{"color":"rgba(253,231,37,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
<p>Based on the proportion plot, we found that, for city hotel, the cancellation proportion is the highest when the guests didn’t ask for any special request. Similarly, for resort hotel, the cancellation proportion is also higher when guests didn’t ask for any special request.</p>
<p><br></p>
</div>
<div id="the-deposit-type-effect" class="section level5">
<h5>The Deposit Type Effect</h5>
<div id="htmlwidget-18be61c87b48cc15bd3f" style="width:672px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-18be61c87b48cc15bd3f">{"x":{"visdat":{"370c1b5e4994":["function () ","plotlyVisDat"]},"cur_data":"370c1b5e4994","attrs":{"370c1b5e4994":{"x":{},"y":{},"text":{},"color":{},"colors":"viridis","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"bar"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"title":"Canceled Proportion with Deposit Type","xaxis":{"domain":[0,1],"automargin":true,"title":"Deposit Type","type":"category","categoryorder":"array","categoryarray":["No Deposit","Non Refund","Refundable"]},"yaxis":{"domain":[0,1],"automargin":true,"title":"Proportion of Cancellation","range":[0,1]},"barmode":"group","hovermode":"closest","showlegend":true},"source":"A","config":{"showSendToCloud":false},"data":[{"x":["No Deposit","Non Refund","Refundable"],"y":[0.2953424147454,0.996277495769882,0.333333333333333],"text":["<br />Cancellation Proportion: 0.2953424147454","<br />Cancellation Proportion: 0.996277495769882","<br />Cancellation Proportion: 0.333333333333333"],"type":"bar","name":"City Hotel","marker":{"color":"rgba(68,1,84,1)","line":{"color":"rgba(68,1,84,1)"}},"textfont":{"color":"rgba(68,1,84,1)"},"error_y":{"color":"rgba(68,1,84,1)"},"error_x":{"color":"rgba(68,1,84,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["No Deposit","Non Refund","Refundable"],"y":[0.233039020222159,0.938914027149321,0.0703125],"text":["<br />Cancellation Proportion: 0.233039020222159","<br />Cancellation Proportion: 0.938914027149321","<br />Cancellation Proportion: 0.0703125"],"type":"bar","name":"Resort Hotel","marker":{"color":"rgba(253,231,37,1)","line":{"color":"rgba(253,231,37,1)"}},"textfont":{"color":"rgba(253,231,37,1)"},"error_y":{"color":"rgba(253,231,37,1)"},"error_x":{"color":"rgba(253,231,37,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
<p>Based on the proportion plot, we found that for both resort and city hotels, reservations with non-refundable deposit have about 94% and 99% of cancellation respectively, which is significantly higher than other two types of deposits. For reservations with refundable deposit, we found that the cancellation of city hotel is relatively higher than that of resort hotel. This counter intuitive finding confirmed with the previous odds ratios. We therefore suspected the validity of this variable.</p>
<p><br></p>
</div>
<div id="the-adr-effect" class="section level5">
<h5>The ADR Effect</h5>
<div id="htmlwidget-839c02ecf06f3266995f" style="width:672px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-839c02ecf06f3266995f">{"x":{"visdat":{"370c4b7a10f3":["function () ","plotlyVisDat"]},"cur_data":"370c4b7a10f3","attrs":{"370c4b7a10f3":{"x":{},"y":{},"mode":"markers","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter","inherit":true},"370c4b7a10f3.1":{"x":{},"y":{},"mode":"lines","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"inherit":true}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"title":"Average Daily Rate (ADR) and Cancellation","xaxis":{"domain":[0,1],"automargin":true,"title":"ADR"},"yaxis":{"domain":[0,1],"automargin":true,"title":"Cancellation Proportion"},"showlegend":false,"hovermode":"closest"},"source":"A","config":{"showSendToCloud":false},"data":[{"x":[0,1,6,8,12,25,26,26.1,27,29,30,30.24,30.6,31,32,33,33.3,34,34.4,35,35.1,36,36.96,37,37.4,37.8,38,38.4,38.67,39,40,40.5,40.67,41,41.4,42,42.5,43,43.2,44,44.1,44.36,44.8,45,46,46.4,46.75,46.8,46.98,47,48,48.6,48.75,49,49.5,50,50.4,51,51.4,51.8,51.85,52,52.2,52.4,52.56,52.8,53,53.85,54,54.5,54.9,55,55.44,55.8,56,57,57.5,57.6,57.8,58,58.5,59,59.4,59.5,59.8,60,60.29,60.3,61,61.2,61.4,61.5,62,62.5,62.8,62.9,63,63.4,63.5,63.58,63.75,64,64.67,64.8,64.9,65,65.4,65.7,65.75,65.83,66,66.5,66.6,67,67.05,67.22,67.5,68,68.07,68.4,68.5,69,69.29,69.36,69.5,70,70.03,70.4,70.44,70.5,70.53,70.75,71,71.1,71.6,71.7,72,72.25,72.75,72.76,72.8,72.9,73,73.1,73.33,73.5,73.8,73.9,73.95,74,74.15,74.8,75,75.33,75.6,75.95,76,76.05,76.5,76.58,76.67,77,77.03,77.23,77.25,77.4,77.5,77.6,77.85,77.86,78,78.2,78.3,78.5,79,79.2,79.43,79.5,79.56,79.8,79.9,80,80.1,80.24,80.3,80.75,80.81,81,81.08,81.25,81.5,81.6,81.67,81.77,81.9,82,82.4,82.45,82.8,82.88,83,83.3,83.5,83.9,84,84.15,84.33,84.58,84.6,85,85.33,85.5,85.67,85.75,85.85,86,86.36,86.4,86.5,86.55,86.7,86.75,87,87.3,87.5,88,88.01,88.2,88.4,88.5,88.8,88.83,89,89.1,89.14,89.25,89.3,89.4,89.75,89.89,90,90.1,90.3,90.67,90.9,90.95,91,91.38,91.48,91.5,91.8,92,92.1,92.28,92.65,93,93.08,93.15,93.33,93.5,93.6,94,94.35,94.5,95,95.2,95.4,95.67,95.88,96,96.3,96.9,97,97.02,97.2,97.4,97.54,97.71,97.75,98,98.1,98.6,99,99.3,99.45,99.9,100,100.1,100.3,100.75,100.8,101,101.15,101.33,101.52,101.58,101.7,102,102.25,102.3,102.6,102.8,102.85,103,103.5,103.7,103.95,104,104.4,104.55,105,105.3,105.4,105.83,106,106.2,106.25,106.33,106.5,107,107.1,107.95,108,108.11,108.3,108.45,108.8,108.9,109,109.65,109.8,110,110.5,110.7,110.75,111,111.3,111.35,111.6,112,112.2,112.5,112.8,113,113.05,113.4,114,114.3,114.75,115,115.2,115.5,115.6,116,116.1,116.33,116.45,117,117.3,117.9,118,118.15,118.8,119,119.1,119.7,119.85,120,120.6,120.7,121,121.5,121.55,122,122.33,122.4,123,123.25,123.3,123.33,124,124.1,124.2,125,125.1,125.8,126,126.9,127,127.5,127.8,128,128.7,129,129.2,129.6,129.7,130,130.05,130.5,130.9,131,131.4,131.75,132,132.3,132.6,133,133.2,134,134.1,135,135.15,135.9,136,136.8,137,137.7,138,138.6,139,139.5,139.95,140,140.4,140.7,141,141.3,142,142.2,143,143.1,144,144.9,145,145.8,146,146.7,147,147.9,148,148.5,149,149.4,150,150.3,150.45,151,151.2,152,152.1,153,154,155,155.7,156,156.6,157,157.5,158,158.4,158.95,159,159.3,159.5,160,161,161.1,161.5,161.67,162,163,163.8,164,165,166,167,167.45,168,168.3,169,170,170.1,171,171.9,172,173,174,175,176,177,177.3,178,179,180,181,182,183,184,185,186,186.3,187,187.85,189,190,190.8,191,192,193,194,195,196,197,198,198.9,199,200,201,202,204,205,206,207,207.9,208,209,210,211,212,214,215,216,219,220,221,222,224,225,227,229,230,231,234,239,240,241,246,249,250,259,269,271,305],"y":[0.1,0.21,0.23,0.75,0.4,0.17,0.07,0.11,0.06,0.15,0.18,0.05,0.05,0,0.18,0,0.05,0.08,0,0.04,0.29,0.15,0.12,0.41,0.04,0.49,0.2,0.17,0.15,0.15,0.05,0.25,0,0,0.17,0.1,0,0.16,0.15,0.03,0.62,0.33,0.28,0.07,0.47,0.32,0.11,0.31,0.44,0.29,0.24,0.31,0,0.2,0.07,0.27,0.43,0.06,0.86,0,0.14,0.74,0.38,0,0.28,0.31,0.11,0,0.09,0.03,0.06,0.34,0,0.6,0.21,0.15,0.33,0.52,0.24,0.27,0.17,0.46,0.24,0.29,0,0.45,0.17,0.55,0.52,0.19,0,0,0.91,0,0.98,0.12,0.2,0.09,0.4,0.18,0.49,0.42,0,0.28,0,0.41,0.07,0.44,0,0.23,0.14,0.14,0.69,0.21,0.83,0.08,0.47,0.31,0.05,0.3,0.13,0.09,0.74,0.62,0.11,0.49,0.14,0.33,0,0,1,0.79,0.06,0.34,0.06,0,0.56,0.18,0.04,0,0.54,0.71,0.26,0.43,0.36,0.36,0.58,0.21,0.66,0.14,0.33,0.57,0.59,0.15,0.22,0,0.1,1,0.33,0.21,1,0.21,0.05,0.27,0.67,0.43,0.28,0.2,0.36,0.36,0.3,0.5,0.51,0,0.39,0.51,0.8,0.23,0.36,0.31,0,0.57,0.6,0.09,0.02,0.21,0,0.25,0.13,0.17,0.17,0.17,0,0.08,0.35,0.26,0.09,0.26,0.42,0.25,0.02,0.23,0.25,0.06,0.4,0.5,0.06,0.09,0.5,0.3,0.06,0.37,0.05,0.33,0.39,0.36,0.17,0.61,0.24,0,0.61,0.53,0.13,0.4,0.08,0.35,0,0.4,0.4,0.56,0.15,0.33,0.56,0.48,0,0.49,0.08,0.27,0.05,0.38,0.45,0.21,0.14,0.08,0.4,0.29,0.26,0.19,0.05,0.53,0.37,0.12,0.08,0.21,0.2,0.15,0.47,0.94,0,0.15,0.51,0.08,0.35,0.41,0.38,0.33,0.46,0.1,0.45,0.56,0.34,0.21,0.22,0.25,0.33,0,0.17,0.32,0.44,0.2,0.6,0.15,0.25,0.28,0.34,0.46,0.72,0.09,0.56,0,0.4,0.53,0.43,0,0,0.29,0.5,0.16,0.27,0.09,0.32,0,0.44,0.42,0.43,0.38,0.09,0.17,0.42,0.52,0.61,0.43,0.28,0.27,0.4,0.56,0.3,0.14,0.11,0.15,0.51,0.34,0.41,0.15,0.29,0.31,0.47,0.48,0.28,0.46,0.52,0.58,0.25,0.23,0.31,0.14,0.09,0.38,0.37,0.14,0.62,0.41,0.41,0.26,0.3,0.56,0.29,0.38,0.42,0.25,0.56,0.35,0.43,0.31,0.44,0.07,0.58,0.12,0.19,0.37,0.38,0.49,0.46,0.3,0.45,0.47,0.3,0.71,0.35,0.38,0.33,0.38,0.15,0.4,0.57,0.49,0.29,0.21,0.37,0.2,0.33,0.5,0.44,0.53,0.26,0.6,0.37,0.4,0.2,0.41,0.45,0.16,0.38,0.32,0.29,0.31,0.21,0.7,0.39,0.34,0.47,0.18,0.59,0.38,0.09,0.63,0.37,0.17,0.62,0.38,0.42,0.58,0.44,0.39,0.25,0.55,0.35,0.31,0.21,0.35,0.3,0.48,0.38,0.59,0.53,0.31,0.27,0.43,0.33,0.29,0.18,0.6,0.2,0.35,0.31,0.47,0.19,0.31,0.35,0.38,0.2,0.4,0.2,0.45,0.33,0.62,0.37,0.3,0.37,0.16,0.51,0.34,0.42,0.22,0.08,0.35,0.57,0.16,0.57,0.23,0.21,0.37,0.32,0.55,0.08,0.53,0.25,0.19,0.36,0.27,0.29,0.15,0.14,0.27,0.24,0.31,0.46,0.67,0.11,0.42,0.38,0.38,0.25,0.31,0.25,0.27,0.29,0.27,0.14,0.29,0.21,0.4,0.36,0.38,0.42,0.19,0.36,0.07,0.28,0.15,0.21,0.35,0.39,0.47,0.54,0.22,0.39,0.27,0.25,0.5,0.53,0.42,0.19,0.19,0.33,0.53,0.38,0.43,0.14,0.17,0.36,0.4,0.11,0.5,0.46,0.08,0.54,0.16,0.32,0.56,0.6,0.15,0.35,0.51,0.46,0.38,0.57,0.38,0.17,0.36,0.21,0.29,0.39,0.53,0.38,0.64,0.37,0.38,0.25,0.62,0.67,0.45,0.18,0],"mode":"markers","type":"scatter","marker":{"color":"rgba(31,119,180,1)","line":{"color":"rgba(31,119,180,1)"}},"error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"line":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[0,1,6,8,12,25,26,26.1,27,29,30,30.24,30.6,31,32,33,33.3,34,34.4,35,35.1,36,36.96,37,37.4,37.8,38,38.4,38.67,39,40,40.5,40.67,41,41.4,42,42.5,43,43.2,44,44.1,44.36,44.8,45,46,46.4,46.75,46.8,46.98,47,48,48.6,48.75,49,49.5,50,50.4,51,51.4,51.8,51.85,52,52.2,52.4,52.56,52.8,53,53.85,54,54.5,54.9,55,55.44,55.8,56,57,57.5,57.6,57.8,58,58.5,59,59.4,59.5,59.8,60,60.29,60.3,61,61.2,61.4,61.5,62,62.5,62.8,62.9,63,63.4,63.5,63.58,63.75,64,64.67,64.8,64.9,65,65.4,65.7,65.75,65.83,66,66.5,66.6,67,67.05,67.22,67.5,68,68.07,68.4,68.5,69,69.29,69.36,69.5,70,70.03,70.4,70.44,70.5,70.53,70.75,71,71.1,71.6,71.7,72,72.25,72.75,72.76,72.8,72.9,73,73.1,73.33,73.5,73.8,73.9,73.95,74,74.15,74.8,75,75.33,75.6,75.95,76,76.05,76.5,76.58,76.67,77,77.03,77.23,77.25,77.4,77.5,77.6,77.85,77.86,78,78.2,78.3,78.5,79,79.2,79.43,79.5,79.56,79.8,79.9,80,80.1,80.24,80.3,80.75,80.81,81,81.08,81.25,81.5,81.6,81.67,81.77,81.9,82,82.4,82.45,82.8,82.88,83,83.3,83.5,83.9,84,84.15,84.33,84.58,84.6,85,85.33,85.5,85.67,85.75,85.85,86,86.36,86.4,86.5,86.55,86.7,86.75,87,87.3,87.5,88,88.01,88.2,88.4,88.5,88.8,88.83,89,89.1,89.14,89.25,89.3,89.4,89.75,89.89,90,90.1,90.3,90.67,90.9,90.95,91,91.38,91.48,91.5,91.8,92,92.1,92.28,92.65,93,93.08,93.15,93.33,93.5,93.6,94,94.35,94.5,95,95.2,95.4,95.67,95.88,96,96.3,96.9,97,97.02,97.2,97.4,97.54,97.71,97.75,98,98.1,98.6,99,99.3,99.45,99.9,100,100.1,100.3,100.75,100.8,101,101.15,101.33,101.52,101.58,101.7,102,102.25,102.3,102.6,102.8,102.85,103,103.5,103.7,103.95,104,104.4,104.55,105,105.3,105.4,105.83,106,106.2,106.25,106.33,106.5,107,107.1,107.95,108,108.11,108.3,108.45,108.8,108.9,109,109.65,109.8,110,110.5,110.7,110.75,111,111.3,111.35,111.6,112,112.2,112.5,112.8,113,113.05,113.4,114,114.3,114.75,115,115.2,115.5,115.6,116,116.1,116.33,116.45,117,117.3,117.9,118,118.15,118.8,119,119.1,119.7,119.85,120,120.6,120.7,121,121.5,121.55,122,122.33,122.4,123,123.25,123.3,123.33,124,124.1,124.2,125,125.1,125.8,126,126.9,127,127.5,127.8,128,128.7,129,129.2,129.6,129.7,130,130.05,130.5,130.9,131,131.4,131.75,132,132.3,132.6,133,133.2,134,134.1,135,135.15,135.9,136,136.8,137,137.7,138,138.6,139,139.5,139.95,140,140.4,140.7,141,141.3,142,142.2,143,143.1,144,144.9,145,145.8,146,146.7,147,147.9,148,148.5,149,149.4,150,150.3,150.45,151,151.2,152,152.1,153,154,155,155.7,156,156.6,157,157.5,158,158.4,158.95,159,159.3,159.5,160,161,161.1,161.5,161.67,162,163,163.8,164,165,166,167,167.45,168,168.3,169,170,170.1,171,171.9,172,173,174,175,176,177,177.3,178,179,180,181,182,183,184,185,186,186.3,187,187.85,189,190,190.8,191,192,193,194,195,196,197,198,198.9,199,200,201,202,204,205,206,207,207.9,208,209,210,211,212,214,215,216,219,220,221,222,224,225,227,229,230,231,234,239,240,241,246,249,250,259,269,271,305],"y":[0.230951027807099,0.231671581385423,0.235274349277066,0.236715456433723,0.239597670747036,0.248964867265304,0.249685420843632,0.249757476201465,0.250405974421961,0.251847081578617,0.252567635156945,0.252740568015744,0.252999967303942,0.253288188735274,0.254008742313602,0.25472929589193,0.254945461965429,0.255449849470259,0.25573807090159,0.256170403048587,0.25624245840642,0.256890956626915,0.257582688062111,0.257611510205244,0.257899731636575,0.258187953067906,0.258332063783572,0.258620285214903,0.258814834681052,0.2590526173619,0.259773170940229,0.260133447729393,0.260255941837709,0.260493724518557,0.260781945949888,0.261214278096885,0.261574554886049,0.261934831675214,0.262078942390879,0.262655385253542,0.262727440611375,0.26291478454174,0.263231828116204,0.26337593883187,0.264096492410199,0.26438471384153,0.264636907593945,0.264672935272861,0.26480263491696,0.264817045988527,0.265537599566855,0.265969931713852,0.266078014750601,0.266258153145183,0.266618429934348,0.266978706723512,0.267266928154843,0.26769926030184,0.267987481733171,0.268275703164503,0.268311730843419,0.268419813880168,0.268563924595834,0.2687080353115,0.268823323884032,0.268996256742831,0.269140367458497,0.269752838000076,0.269860921036825,0.270221197825989,0.27050941925732,0.270581474615153,0.270898518189618,0.271157917477816,0.271302028193482,0.27202258177181,0.272382858560974,0.272454913918807,0.272599024634473,0.272743135350138,0.273103412139302,0.273463688928467,0.273751910359798,0.273823965717631,0.274040131791129,0.274184242506795,0.27439320304451,0.274400408580293,0.274904796085123,0.275048906800789,0.275193017516455,0.275265072874287,0.275625349663452,0.275985626452616,0.276201792526114,0.276273847883947,0.27634590324178,0.276634124673111,0.276706180030944,0.27676382431721,0.276886318425526,0.277066456820108,0.277549227717588,0.277642899682771,0.277714955040604,0.277787010398436,0.278075231829768,0.278291397903266,0.278327425582183,0.278385069868449,0.278507563976765,0.278867840765929,0.278939896123762,0.279228117555093,0.279264145234009,0.279386639342325,0.279588394344257,0.279948671133421,0.279999109883904,0.280236892564753,0.280308947922586,0.28066922471175,0.280878185249465,0.280928623999948,0.281029501500914,0.281389778290078,0.281411394897428,0.281677999721409,0.281706821864542,0.281750055079242,0.281771671686592,0.281930193473824,0.282110331868406,0.282182387226239,0.282542664015403,0.282614719373236,0.282830885446735,0.283011023841317,0.283371300630481,0.283378506166264,0.283407328309397,0.28347938366723,0.283551439025063,0.283623494382896,0.283789221705911,0.283911715814227,0.284127881887726,0.284199937245558,0.284235964924475,0.284271992603391,0.284380075640141,0.284848435466054,0.28499254618172,0.285230328862568,0.285424878328717,0.285677072081131,0.285713099760048,0.285749127438964,0.286073376549212,0.286131020835478,0.286195870657528,0.286433653338376,0.286455269945726,0.286599380661392,0.286613791732958,0.286721874769708,0.28679393012754,0.286865985485373,0.287046123879955,0.287053329415739,0.287154206916705,0.28729831763237,0.287370372990203,0.287514483705869,0.287874760495033,0.288018871210698,0.288184598533714,0.288235037284197,0.288278270498897,0.288451203357695,0.288523258715528,0.288595314073361,0.288667369431194,0.28876824693216,0.28881148014686,0.289135729257107,0.289178962471807,0.289315867651689,0.289373511937956,0.289496006046272,0.289676144440854,0.289748199798686,0.289798638549169,0.289870693907002,0.289964365872185,0.290036421230018,0.290324642661349,0.290360670340265,0.29061286409268,0.290670508378947,0.290756974808346,0.290973140881845,0.29111725159751,0.291405473028842,0.291477528386674,0.291585611423424,0.291715311067523,0.291895449462105,0.291909860533671,0.292198081965003,0.292435864645851,0.292558358754167,0.292680852862483,0.292738497148749,0.292810552506582,0.292918635543331,0.293178034831529,0.293206856974662,0.293278912332495,0.293314940011412,0.293423023048161,0.293459050727077,0.293639189121659,0.293855355195158,0.293999465910823,0.294359742699988,0.294366948235771,0.294503853415653,0.294647964131319,0.294720019489152,0.29493618556265,0.29495780217,0.295080296278316,0.295152351636149,0.295181173779282,0.295260434672898,0.295296462351814,0.295368517709647,0.295620711462062,0.295721588963028,0.295800849856644,0.295872905214477,0.296017015930143,0.296283620754124,0.29644934807714,0.296485375756056,0.296521403434973,0.296795213794737,0.29686726915257,0.296881680224137,0.297097846297635,0.297241957013301,0.297314012371134,0.297443712015233,0.297710316839214,0.297962510591629,0.298020154877895,0.298070593628379,0.298200293272478,0.298322787380793,0.298394842738626,0.298683064169957,0.298935257922372,0.299043340959122,0.299403617748286,0.299547728463952,0.299691839179617,0.299886388645766,0.300037704897215,0.300124171326614,0.300340337400113,0.30077266954711,0.300844724904942,0.300859135976509,0.300988835620608,0.301132946336274,0.30123382383724,0.301356317945556,0.301385140088689,0.301565278483271,0.301637333841104,0.301997610630268,0.302285832061599,0.302501998135098,0.302610081171847,0.302934330282095,0.303006385639927,0.30307844099776,0.303222551713426,0.303546800823674,0.30358282850259,0.303726939218256,0.303835022255005,0.303964721899104,0.304101627078986,0.304144860293686,0.304231326723086,0.304447492796584,0.304627631191166,0.304663658870083,0.304879824943581,0.305023935659247,0.305059963338163,0.305168046374912,0.305528323164076,0.305672433879742,0.305852572274324,0.305888599953241,0.306176821384572,0.306284904421321,0.306609153531569,0.306825319605067,0.3068973749629,0.307207213001581,0.307329707109897,0.307473817825563,0.307509845504479,0.307567489790746,0.307689983899061,0.308050260688226,0.308122316046058,0.308734786587637,0.308770814266554,0.30885007516017,0.308986980340052,0.309095063376802,0.309347257129217,0.309419312487049,0.309491367844882,0.309959727670796,0.310067810707545,0.310211921423211,0.310572198212375,0.31071630892804,0.310752336606957,0.310932475001539,0.311148641075037,0.311184668753954,0.311364807148536,0.311653028579867,0.311797139295533,0.312013305369031,0.31222947144253,0.312373582158195,0.312409609837112,0.312661803589527,0.313094135736524,0.313310301810022,0.31363455092027,0.313814689314852,0.313958800030518,0.314174966104016,0.314247021461849,0.31453524289318,0.314607298251013,0.314773025574029,0.314859492003428,0.315255796471509,0.315471962545007,0.315904294692004,0.315976350049837,0.316084433086586,0.3165527929125,0.316696903628165,0.316768958985998,0.317201291132995,0.317309374169744,0.317417457206494,0.317849789353491,0.317921844711323,0.318138010784822,0.318498287573986,0.318534315252903,0.31885856436315,0.319096347043999,0.319146785794482,0.319579117941479,0.319759256336061,0.319795284014977,0.319816900622327,0.320299671519807,0.32037172687764,0.320443782235473,0.321020225098135,0.321092280455968,0.321596667960798,0.321740778676464,0.322389276896959,0.322461332254792,0.322821609043956,0.323037775117454,0.32318188583312,0.32368627333795,0.323902439411448,0.324046550127114,0.324334771558445,0.324406826916278,0.324622992989777,0.324659020668693,0.324983269778941,0.325271491210272,0.325343546568105,0.325631767999436,0.325883961751851,0.326064100146433,0.326280266219932,0.32649643229343,0.326784653724762,0.326928764440427,0.32750520730309,0.327577262660923,0.328225760881418,0.328333843918168,0.328874259101914,0.328946314459747,0.329522757322409,0.329666868038075,0.330171255542905,0.330387421616403,0.3308197537634,0.331107975194732,0.331468251983896,0.331792501094143,0.33182852877306,0.332116750204391,0.33233291627789,0.332549082351388,0.332765248424887,0.333269635929717,0.333413746645382,0.333990189508045,0.334062244865878,0.334710743086373,0.335359241306869,0.335431296664701,0.336007739527364,0.33615185024303,0.33665623774786,0.336872403821358,0.337520902041854,0.337592957399686,0.337953234188851,0.338313510978015,0.338601732409346,0.339034064556343,0.339250230629842,0.339358313666591,0.339754618134671,0.339898728850337,0.340475171713,0.340547227070833,0.341195725291328,0.341916278869656,0.342636832447985,0.343141219952814,0.343357386026313,0.34378971817331,0.344077939604641,0.344438216393805,0.34479849318297,0.345086714614301,0.345483019082381,0.345519046761298,0.345735212834796,0.345879323550462,0.346239600339626,0.346960153917954,0.347032209275787,0.347320430707119,0.347442924815434,0.347680707496283,0.348401261074611,0.348977703937274,0.349121814652939,0.349842368231268,0.350562921809596,0.351283475387924,0.351607724498172,0.352004028966253,0.352220195039751,0.352724582544581,0.353445136122909,0.353517191480742,0.354165689701238,0.354814187921733,0.354886243279566,0.355606796857894,0.356327350436223,0.357047904014551,0.357768457592879,0.358489011171207,0.358705177244706,0.359209564749536,0.359930118327864,0.360650671906192,0.361371225484521,0.362091779062849,0.362812332641177,0.363532886219506,0.364253439797834,0.364973993376162,0.365190159449661,0.365694546954491,0.36630701749607,0.367135654111147,0.367856207689476,0.368432650552138,0.368576761267804,0.369297314846132,0.37001786842446,0.370738422002789,0.371458975581117,0.372179529159445,0.372900082737774,0.373620636316102,0.374269134536597,0.37434118989443,0.375061743472759,0.375782297051087,0.376502850629415,0.377943957786072,0.3786645113644,0.379385064942729,0.380105618521057,0.380754116741552,0.380826172099385,0.381546725677714,0.382267279256042,0.38298783283437,0.383708386412698,0.385149493569355,0.385870047147683,0.386590600726012,0.388752261460997,0.389472815039325,0.390193368617653,0.390913922195982,0.392355029352638,0.393075582930966,0.394516690087623,0.39595779724428,0.396678350822608,0.397398904400936,0.399560565135921,0.403163333027563,0.403883886605891,0.404604440184219,0.408207208075861,0.410368868810846,0.411089422389174,0.417574404594129,0.424779940377412,0.426221047534069,0.450719869197232],"mode":"lines","type":"scatter","marker":{"color":"rgba(255,127,14,1)","line":{"color":"rgba(255,127,14,1)"}},"error_y":{"color":"rgba(255,127,14,1)"},"error_x":{"color":"rgba(255,127,14,1)"},"line":{"color":"rgba(255,127,14,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
<p>From this plot, there is no clear trend detected. We see that the proportion of cancelation slight increases with increase in ADR.</p>
</div>
</div>
<div id="cross-validation" class="section level4">
<h4>Cross Validation</h4>
<p>Since we are questioning the validity of deposit type, we fitted the logistic regression models without the deposit type. We then compared the prediction accuracy of the two models:</p>
<table>
<caption>Model Accuracy</caption>
<thead>
<tr class="header">
<th align="right">Model1 accuracy</th>
<th align="right">Model2 accuracy</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">0.757</td>
<td align="right">0.749</td>
</tr>
</tbody>
</table>
<p>We can see that the two models have roughly the same prediction accuracy! We also generated the ROC for comparison:<br />
<img src="report_files/figure-html/unnamed-chunk-4-1.png" width="672" /></p>
<p><br></p>
</div>
<div id="model-diagnosis" class="section level4">
<h4>Model Diagnosis</h4>
<pre class="r"><code>train_df =
  broom::augment(logistic_fit_2) %&gt;% 
  mutate(index = 1:n()) 

ggplot(data = train_df, aes(index, .std.resid, color = &quot;viridis&quot;)) + 
  geom_point(alpha = .5) +
  geom_ref_line(h = 3) + 
  labs(title = &quot;Residual Deviance plot&quot;)</code></pre>
<p><img src="report_files/figure-html/unnamed-chunk-5-1.png" width="672" /></p>
<pre class="r"><code>plot(logistic_fit_2, which = 4, id.n = 5)</code></pre>
<p><img src="report_files/figure-html/unnamed-chunk-5-2.png" width="672" /></p>
<p><br> We created the residual deviance plot to detect outliers. And as shown in the plot, those standardized residuals that exceed 3 represent possible outliers and may deserve closer attention. Similarly, plotting the cook’s distance also signals some potential outliers in our dataset.</p>
</div>
</div>
</div>
<div id="discussion" class="section level2">
<h2>Discussion</h2>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open')
  });
});
</script>

<!-- code folding -->
<script>
$(document).ready(function () {
  window.initializeCodeFolding("hide" === "show");
});
</script>

<script>
$(document).ready(function ()  {

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
